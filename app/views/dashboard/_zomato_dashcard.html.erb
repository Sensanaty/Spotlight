<div class="row">
  <div class="col-12">
    <div class="top-panel d-flex justify-content-around">
      <div class="left">
        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Total Reviews</div>
        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800"><%= restaurant.zomato_reviews.count %></div>
      </div>
      <div class="middle">
        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Average Rating</div>
        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800"><%= restaurant.average_zomato_rating %></div>
      </div>
      <div class="right">
        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Since last login</div>
        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800"><%= restaurant.zomato_reviews.where(review_time: current_user.last_sign_in_at..Date.today).count %> new</div>
      </div>
    </div>
  </div>
</div>
<div class="row h-100 mt-5">
  <div class="col-6">
    <div class="chart-left w-100 d-flex flex-column align-items-center">
      <span class="text-xs font-weight-bold text-uppercase mb-1">Review count over last 6 months</span>
        <!-- Google Chart 1 -->
        <%= column_chart restaurant.zomato_reviews.where(review_time: (Date.today << 6)..Date.today).group_by_month(:review_time, format: "%b").count, width: "90%", height: "180px" %>
    </div>
  </div>
  <div class="col-6">
    <div class="chart-right w-100 d-flex flex-column align-items-center">
      <span class="text-xs font-weight-bold text-uppercase mb-1">Ratings distribution</span>
      <div class="google-chart-2">
        <!-- Google Chart 2 -->
        <%= pie_chart restaurant.zomato_reviews.group(:rating).count, width: "90%", height: "180px", donut: true, code: true,
        library: {
          plugins: {
            datalabels: {
              color: 'white',
            },
              labels: {
                title: {
                  font: { weight: 'bold' }
                },
              value: { color: 'white' },
            },
          },
        } %>
      </div>
    </div>
  </div>
</div>

